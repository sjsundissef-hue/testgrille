<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Wordbox - Stats Globales</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Wordbox</h1>

  <div class="top-highlight">
      <button id="topExpertBtn" class="big-highlight-btn">ğŸ‘‘ MODE EXPERT 3x3 ğŸ‘‘</button>
  </div>

 <div class="controls">
    <button class="mode-btn active" id="btn4x4" onclick="setMode(4)">Mode 4x4</button>
    <button class="mode-btn" id="btn5x5" onclick="setMode(5)">Mode 5x5</button>
    <button class="mode-btn" id="chronoToggleBtn">â± Mode chrono : OFF</button>
</div>
<div class="settings-panel">
  <div class="setting-item">
    <label for="gridScaleRange">Taille des cases</label>
    <input
      type="range"
      id="gridScaleRange"
      min="80"
      max="120"
      value="100"
    />
  </div>

  <div class="setting-item">
    <label for="gridGapRange">Espace entre les cases</label>
    <input
      type="range"
      id="gridGapRange"
      min="10"
      max="40"
      value="20"
    />
  </div>
</div>




  <div class="main-container">
    <div class="game-area">
  <div id="timerDisplay" class="timer-display">02:00</div>
  <div id="chronoModeBadge" class="chrono-badge" style="display:none;">Partie chrono</div>

  <div class="word-display-area">
    <div class="current-word" id="currentWord"></div>
    <div class="feedback" id="feedbackMsg"></div>
  </div>


      <div class="grid-wrapper">
        <canvas id="bgCanvas"></canvas>
        <canvas id="lineCanvas"></canvas>
        <div class="grid" id="grid"></div>
      </div>

      <div class="action-buttons">
        <button id="newGridBtn">Nouvelle Grille</button>
        <button id="replayBtn" class="secondary">Rejouer</button>
        <button id="createGridBtn" class="secondary">CrÃ©er</button>
        
        <div style="display:flex; gap:10px; width:100%; justify-content:center;">
            <button id="funBtn" class="fun" style="flex:2;">Fun 2x2</button>
            <button id="help2x2Btn" class="help-btn" style="flex:1;">â“ Aide</button>
        </div>
        
        <button id="globalStatsBtn" class="stats-btn" style="background:#34495e; box-shadow:0 5px 0 #2c3e50;">ğŸ“Š Stats Globales</button>
        
        <button id="leaderboardToggleBtn" class="stats-btn">ğŸ“Š Voir le classement</button>

        <button id="solveBtn" class="secondary">Solutions</button>
        
        <button id="validateCustomBtn" class="validate">Valider</button>
        <button id="passBtn" class="pass">Passer</button>
      </div>
    </div>

    <div class="score-panel">
      <div class="score-header">
        <div class="score-title" id="listTitle">Score Actuel</div>
        <div class="score-total" id="scoreDisplay">0</div>
        <div class="score-comparison" id="scoreComparison"></div>
      </div>
      
      <div class="filter-container">
          <input type="text" id="filterInput" class="filter-input" placeholder="ğŸ” Filtrer...">
      </div>

      <ul class="word-list" id="wordList"></ul>

      <div class="history-section">
          <div class="history-title">Historique Session</div>
          <ul class="history-list" id="historyList"></ul>
      </div>

           <div class="leaderboard-section">
          <div class="leaderboard-title">ğŸŒ Classement 3x3 (Online)</div>
          <ul class="leaderboard-list" id="leaderboardList">
              <li style="text-align:center; padding:10px; color:#aaa;">Chargement...</li>
          </ul>

          <div style="margin:12px 0; border-top:1px solid #eee;"></div>

          <div class="leaderboard-title">ğŸ† Classement Global (3 modes)</div>
          <ul class="leaderboard-list" id="globalRankingList">
              <li style="text-align:center; padding:10px; color:#aaa;">Chargement...</li>
          </ul>
      </div>
      
      <!-- Modal Classement Plein Ã‰cran -->
      <div id="leaderboardModal" class="leaderboard-modal-overlay">
        <div class="leaderboard-modal-content">
          <div class="leaderboard-modal-header">
            <h2>ğŸ† Classements</h2>
            <button id="closeLeaderboardModal" class="leaderboard-close-btn">Ã—</button>
          </div>
          
          <div class="leaderboard-modal-body">
            <div class="leaderboard-tab-section">
              <div class="leaderboard-tab-header">
                <h3>ğŸŒ Classement 3x3 Expert</h3>
              </div>
              <ul class="leaderboard-modal-list" id="leaderboardModalList">
                <li style="text-align:center; padding:20px; color:#aaa;">Chargement...</li>
              </ul>
            </div>
            
            <div class="leaderboard-divider"></div>
            
            <div class="leaderboard-tab-section">
              <div class="leaderboard-tab-header">
                <h3>ğŸ† Classement Global (3 modes)</h3>
              </div>
              <ul class="leaderboard-modal-list" id="globalRankingModalList">
                <li style="text-align:center; padding:20px; color:#aaa;">Chargement...</li>
              </ul>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>

  <div id="onlineScoreModal" class="modal-overlay">
    <div class="modal-content">
      <h3>Bravo ! ğŸ†</h3>
      <p id="modalScoreMsg">Score : ...</p>
      <p class="modal-sub">Envoyer au classement mondial ?</p>
      <input type="text" id="onlinePseudoInput" placeholder="Ton Pseudo" maxlength="12">
      <div class="modal-actions">
        <button id="btnIgnoreScore" class="btn-cancel">Ignorer</button>
        <button id="btnSendScore" class="btn-confirm">Envoyer</button>
      </div>
    </div>
  </div>

  <div id="helpModal" class="modal-overlay">
    <div class="modal-content modal-large">
      <div class="modal-header">
          <h3>Fiche Aide 2x2</h3>
          <button id="closeHelpBtn" class="close-btn">Ã—</button>
      </div>
      <div class="help-content">
          <p class="help-intro">Grilles possibles et mots Ã  connaÃ®tre :</p>
          <div id="helpGridList" class="help-grid-list"></div>
      </div>
    </div>
  </div>

  <div id="statsModal" class="modal-overlay">
    <div class="modal-content modal-large">
      <div class="modal-header">
          <h3>ğŸ“Š Collection Globale</h3>
          <button id="closeStatsBtn" class="close-btn">Ã—</button>
      </div>
      
      <div class="stats-summary">
          <div class="stat-card">
              <span class="stat-val" id="totalWordsVal">...</span>
              <span class="stat-label">Total TrouvÃ©s</span>
          </div>
          <div class="stat-card">
              <span class="stat-val" id="uniqueWordsVal">...</span>
              <span class="stat-label">Mots Uniques</span>
          </div>
      </div>

      <div class="stats-tabs">
        <button id="statsTabGlobal" class="stats-tab stats-tab-active">ğŸŒ Global</button>
        <button id="statsTabPlayer" class="stats-tab">ğŸ‘¤ Mes stats</button>
      </div>

      <div id="statsMyControls" class="stats-my-controls" style="display:none;">
        <div id="statsModeFilters" class="stats-filter-group">
          <button data-mode="all" class="mode-filter active">Tous</button>
          <button data-mode="expert3x3" class="mode-filter">3x3</button>
          <button data-mode="4x4" class="mode-filter">4x4</button>
          <button data-mode="5x5" class="mode-filter">5x5</button>
        </div>
        <div id="statsMySummary" class="stats-my-summary"></div>
      </div>

      <div class="help-content">
          <h4 style="margin:15px 0 10px; color:#34495e; text-transform:uppercase; font-size:0.9rem; letter-spacing:1px;">
            Liste des mots
          </h4>
          <ul class="leaderboard-list" id="statsWordList">
              <li style="text-align:center; padding:20px; color:#999;">Chargement des donnÃ©es...</li>
          </ul>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
